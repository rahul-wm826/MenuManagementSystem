<div class="container">
  <h2>Category Management</h2>

  <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="name">Name</label>
      <input id="name" type="text" formControlName="name">
    </div>
    <div>
      <label for="description">Description</label>
      <input id="description" type="text" formControlName="description">
    </div>
    <button type="submit" [disabled]="categoryForm.invalid">{{ editingCategoryId ? 'Update' : 'Create' }}</button>
    <button type="button" *ngIf="editingCategoryId" (click)="resetFormAndReload()">Cancel Edit</button>
  </form>

  <hr>

  <h3>Categories</h3>
  <div *ngFor="let cat of categories">
    <h4>{{ cat.name }}</h4>
    <p>{{ cat.description }}</p>
    <button (click)="onEdit(cat)">Edit</button>
    <button (click)="onDelete(cat._id)">Delete</button>
  </div>
</div>
